cmake_minimum_required(VERSION  3.16.3)
project(wisun-host)

ADD_LIBRARY(wisun-host STATIC
    nanostack/source/BorderRouter/border_router.c
    nanostack/source/6LoWPAN/adaptation_interface.c
    nanostack/source/6LoWPAN/Bootstraps/Generic/network_lib.c
    nanostack/source/6LoWPAN/Bootstraps/Generic/protocol_6lowpan.c
    nanostack/source/6LoWPAN/Bootstraps/Generic/protocol_6lowpan_bootstrap.c
    nanostack/source/6LoWPAN/Bootstraps/Generic/protocol_6lowpan_interface.c
    nanostack/source/6LoWPAN/Fragmentation/cipv6_fragmenter.c
    nanostack/source/6LoWPAN/IPHC_Decode/6lowpan_iphc.c
    nanostack/source/6LoWPAN/IPHC_Decode/iphc_compress.c
    nanostack/source/6LoWPAN/IPHC_Decode/iphc_decompress.c
    nanostack/source/6LoWPAN/IPHC_Decode/lowpan_context.c
    nanostack/source/6LoWPAN/MAC/beacon_handler.c
    nanostack/source/6LoWPAN/MAC/mac_data_poll.c
    nanostack/source/6LoWPAN/MAC/mac_helper.c
    nanostack/source/6LoWPAN/MAC/mac_ie_lib.c
    nanostack/source/6LoWPAN/MAC/mac_pairwise_key.c
    nanostack/source/6LoWPAN/MAC/mac_response_handler.c
    # Excluded nanostack/source/6LoWPAN/Mesh
    nanostack/source/6LoWPAN/ND/nd_router_object.c
    # Excluded nanostack/source/6LoWPAN/NVM
    # Excluded nanostack/source/6LoWPAN/Thread
    nanostack/source/6LoWPAN/ws/ws_bbr_api.c
    nanostack/source/6LoWPAN/ws/ws_bootstrap.c
    nanostack/source/6LoWPAN/ws/ws_cfg_settings.c
    nanostack/source/6LoWPAN/ws/ws_common.c
    nanostack/source/6LoWPAN/ws/ws_eapol_auth_relay.c
    nanostack/source/6LoWPAN/ws/ws_eapol_pdu.c
    nanostack/source/6LoWPAN/ws/ws_eapol_relay.c
    nanostack/source/6LoWPAN/ws/ws_eapol_relay_lib.c
    nanostack/source/6LoWPAN/ws/ws_empty_functions.c
    nanostack/source/6LoWPAN/ws/ws_ie_lib.c
    nanostack/source/6LoWPAN/ws/ws_llc_data_service.c
    nanostack/source/6LoWPAN/ws/ws_management_api.c
    nanostack/source/6LoWPAN/ws/ws_mpx_header.c
    nanostack/source/6LoWPAN/ws/ws_neighbor_class.c
    nanostack/source/6LoWPAN/ws/ws_pae_auth.c
    nanostack/source/6LoWPAN/ws/ws_pae_controller.c
    nanostack/source/6LoWPAN/ws/ws_pae_key_storage.c
    nanostack/source/6LoWPAN/ws/ws_pae_lib.c
    nanostack/source/6LoWPAN/ws/ws_pae_nvm_data.c
    nanostack/source/6LoWPAN/ws/ws_pae_supp.c
    nanostack/source/6LoWPAN/ws/ws_pae_time.c
    nanostack/source/6LoWPAN/ws/ws_pae_timers.c
    nanostack/source/6LoWPAN/ws/ws_stats.c
    nanostack/source/6LoWPAN/ws/ws_test_api.c
    nanostack/source/Common_Protocols/icmpv6.c
    nanostack/source/Common_Protocols/icmpv6_prefix.c
    nanostack/source/Common_Protocols/icmpv6_radv.c
    nanostack/source/Common_Protocols/ipv6.c
    nanostack/source/Common_Protocols/ipv6_flow.c
    nanostack/source/Common_Protocols/ipv6_fragmentation.c
    nanostack/source/Common_Protocols/ipv6_resolution.c
    nanostack/source/Common_Protocols/mld.c
    nanostack/source/Common_Protocols/tcp.c
    nanostack/source/Common_Protocols/udp.c
    nanostack/source/Core/buffer_dyn.c
    nanostack/source/Core/ns_address_internal.c
    nanostack/source/Core/ns_monitor.c
    nanostack/source/Core/ns_socket.c
    nanostack/source/Core/sockbuf.c
    nanostack/source/DHCPv6_client/dhcpv6_client_service.c
    nanostack/source/DHCPv6_Server/DHCPv6_Server_service.c
    nanostack/source/ipv6_stack/ipv6_routing_table.c
    nanostack/source/ipv6_stack/protocol_ipv6.c
    nanostack/source/libDHCPv6/dhcp_service_api.c
    nanostack/source/libDHCPv6/libDHCPv6.c
    nanostack/source/libDHCPv6/libDHCPv6_server.c
    nanostack/source/libDHCPv6/libDHCPv6_vendordata.c
    nanostack/source/libNET/src/net_short_address_extension.c
    nanostack/source/libNET/src/net_dns.c
    nanostack/source/libNET/src/multicast_api.c
    nanostack/source/libNET/src/net_6lowpan_parameter_api.c
    nanostack/source/libNET/src/net_test.c
    nanostack/source/libNET/src/net_rpl.c
    nanostack/source/libNET/src/ns_net.c
    nanostack/source/libNET/src/socket_api.c
    nanostack/source/libNET/src/net_ipv6.c
    nanostack/source/libNET/src/net_mle.c
    nanostack/source/libNET/src/net_load_balance.c
    nanostack/source/MAC/rf_driver_storage.c
    # Excluded nanostack/source/MAC/virtual_rf
    # Excluded nanostack/source/MAC/serial
    nanostack/source/MAC/IEEE802_15_4/mac_fhss_callbacks.c
    nanostack/source/MAC/IEEE802_15_4/sw_mac.c
    nanostack/source/MAC/IEEE802_15_4/mac_pd_sap.c
    nanostack/source/MAC/IEEE802_15_4/mac_indirect_data.c
    nanostack/source/MAC/IEEE802_15_4/mac_header_helper_functions.c
    nanostack/source/MAC/IEEE802_15_4/mac_mlme.c
    nanostack/source/MAC/IEEE802_15_4/mac_mcps_sap.c
    nanostack/source/MAC/IEEE802_15_4/mac_timer.c
    nanostack/source/MAC/IEEE802_15_4/mac_cca_threshold.c
    nanostack/source/MAC/IEEE802_15_4/mac_security_mib.c
    nanostack/source/MAC/IEEE802_15_4/mac_filter.c
    nanostack/source/MAC/ethernet/ethernet_mac_api.c
    nanostack/source/MLE/mle.c
    nanostack/source/MLE/mle_tlv.c
    nanostack/source/MPL/mpl.c
)
TARGET_INCLUDE_DIRECTORIES(wisun-host PRIVATE
    mbedtls/
    mbedtls/include/
    mbed-trace/
    mbed-client-randlib/mbed-client-randlib/
    mbed-client-libservice/mbed-client-libservice/
    nanostack-event-loop/nanostack-event-loop/
    nanostack/nanostack/
    nanostack/source/
)
